import{l as E,j as e,S as A,t as I,v as R,w as T,x as w,L as n,B as S,I as b,Q as B,ac as L}from"./index-NZ6jJLfQ.js";import{u as V}from"./useEquipmentModels--fmk95xL.js";import{R as p,a as j}from"./radio-group-DzKNHD24.js";import{P}from"./plus-C3JQqq7t.js";import{M as W}from"./minus-InO4I9Ks.js";import{S as _}from"./switch-DUBpZhIC.js";import{B as N}from"./badge-vNTKF5RD.js";import{C as $}from"./circle-alert-LZYNzZ7F.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=E("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),G=({value:a,onChange:l,options:i,placeholder:t="Seleccionar equipo",fallbackOptions:s=[],category:u})=>{const{models:y,isLoading:f}=V(),o=u?y.filter(c=>c.category===u).map(c=>c.name):[];let x=[];return u&&o.length>0?x=o:Array.isArray(i)&&i.length>0?x=i:x=s,e.jsxs(A,{value:a,onValueChange:l,disabled:f,children:[e.jsx(I,{children:e.jsx(R,{placeholder:f?"Cargando...":t})}),e.jsx(T,{children:Array.isArray(x)&&x.length>0&&x.map(c=>typeof c=="string"?e.jsx(w,{value:c,children:c},c):c&&typeof c=="object"?e.jsxs(w,{value:c.model,children:[c.model,c.quantity?` (${c.quantity} disponibles)`:""]},c.model):null)})]})},O=["Shure AD Series","Shure AXT Series","Shure UR Series","Shure ULX Series","Shure QLX Series","Sennheiser 2000 Series","Sennheiser EW500 Series","Sennheiser EW300 Series","Sennheiser EW100 Series","Other"],H=["Shure Digital PSM Series","Shure PSM1000 Series","Shure PSM900 Series","Shure PSM300 Series","Sennheiser 2000 series","Sennheiser 300 G4 Series","Sennheiser 300 G3 Series","Wysicom MTK","Other"],ee=({systems:a,onChange:l,label:i,includeQuantityTypes:t=!1,isIEM:s=!1,hideProvidedBy:u=!1})=>{const y=()=>{const m={model:"",quantity:0,quantity_hh:0,quantity_bp:0,band:"",provided_by:"festival"};l([...a,m])},f=m=>{l(a.filter((r,d)=>d!==m))},o=(m,r,d)=>{const M=a.map((q,k)=>{if(k!==m)return q;const h={...q};if(r==="quantity_hh"||r==="quantity_bp"){const g=typeof d=="string"?parseInt(d)||0:d;h[r]=g,s?r==="quantity_hh"&&(h.quantity=g):h.quantity=(h.quantity_hh||0)+(h.quantity_bp||0)}else r==="provided_by"?d==="festival"||d==="band"?h.provided_by=d:h.provided_by="festival":h[r]=d;return h});l(M)},x=s?H:O,c=s?{hh:"Canales",bp:"Bodypacks"}:{hh:"De Mano",bp:"Bodypacks"},F=()=>s?"iem":"wireless";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx(n,{children:i})]}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:y,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Añadir Sistema"]})]}),a.map((m,r)=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"flex-1",children:e.jsx(G,{value:m.model,onChange:d=>o(r,"model",d),options:[],fallbackOptions:x,placeholder:"Seleccionar sistema",category:F()})}),e.jsx(S,{type:"button",variant:"ghost",size:"icon",onClick:()=>f(r),children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{children:c.hh}),e.jsx(b,{type:"number",min:"0",value:m.quantity_hh||0,onChange:d=>{o(r,"quantity_hh",d.target.value)},placeholder:`${c.hh} Qty`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{children:c.bp}),e.jsx(b,{type:"number",min:"0",value:m.quantity_bp||0,onChange:d=>{o(r,"quantity_bp",d.target.value)},placeholder:`${c.bp} Qty`})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Banda de Frecuencia"}),e.jsx(b,{value:m.band||"",onChange:d=>o(r,"band",d.target.value),placeholder:"ej., G50, H50"})]}),!u&&e.jsxs("div",{children:[e.jsx(n,{children:"Proporcionado Por"}),e.jsxs(p,{value:m.provided_by||"festival",onValueChange:d=>{o(r,"provided_by",d)},className:"flex space-x-4 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"festival",id:`${r}-festival`}),e.jsx(n,{htmlFor:`${r}-festival`,children:"Festival"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"band",id:`${r}-band`}),e.jsx(n,{htmlFor:`${r}-band`,children:"Banda"})]})]})]})]},r))]})},v=({value:a,onChange:l,label:i,id:t,available:s,validate:u,min:y=0,className:f})=>{const o=u?!u(a):!1;return e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:t,children:i}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(b,{id:t,type:"number",min:y,value:a,onChange:x=>l(parseInt(x.target.value)||0),className:B(f,o&&"border-red-500")}),s!==void 0&&e.jsxs(N,{variant:"secondary",children:[s," disponibles"]})]}),o&&e.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1 mt-1",children:[e.jsx($,{className:"h-4 w-4"}),"Excede la cantidad disponible"]})]})},C=a=>({validateEquipment:(i,t)=>{if(!a)return!0;switch(i){case"monitors":return t<=a.available_monitors;case"cat6":return t<=a.available_cat6_runs;case"hma":return t<=a.available_hma_runs;case"coax":return t<=a.available_coax_runs;case"opticalcon":return t<=a.available_opticalcon_duo_runs;case"analog":return t<=a.available_analog_runs;default:return!0}}}),se=({formData:a,onChange:l,gearSetup:i})=>{const{validateEquipment:t}=C(i);return e.jsxs("div",{className:"space-y-4 border rounded-lg p-3 md:p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Configuración de Monitores"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"monitors-enabled",checked:a.monitors_enabled,onCheckedChange:s=>l({monitors_enabled:s,monitors_quantity:s?1:0})}),e.jsx(n,{htmlFor:"monitors-enabled",className:"text-sm md:text-base",children:"Habilitar Monitores de Stage"})]})]}),a.monitors_enabled&&e.jsx(v,{id:"monitors-quantity",label:"Número de Monitores",value:a.monitors_quantity||0,onChange:s=>l({monitors_quantity:s}),available:i==null?void 0:i.available_monitors,validate:s=>t("monitors",s),min:0})]})},ae=({formData:a,onChange:l,gearSetup:i})=>e.jsxs("div",{className:"space-y-4 border rounded-lg p-3 md:p-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Requerimientos Adicionales"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm md:text-base font-medium",children:"Side Fill"}),i&&!i.has_side_fills&&a.extras_sf&&e.jsx(N,{variant:"secondary",className:"text-xs",children:"No Disponible"})]}),e.jsxs(p,{value:a.extras_sf?"yes":"no",onValueChange:t=>l({extras_sf:t==="yes"}),className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"yes",id:"sf-yes"}),e.jsx(n,{htmlFor:"sf-yes",className:"text-sm md:text-base",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"no",id:"sf-no"}),e.jsx(n,{htmlFor:"sf-no",className:"text-sm md:text-base",children:"No"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm md:text-base font-medium",children:"Drum Fill"}),i&&!i.has_drum_fills&&a.extras_df&&e.jsx(N,{variant:"secondary",className:"text-xs",children:"No Disponible"})]}),e.jsxs(p,{value:a.extras_df?"yes":"no",onValueChange:t=>l({extras_df:t==="yes"}),className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"yes",id:"df-yes"}),e.jsx(n,{htmlFor:"df-yes",className:"text-sm md:text-base",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"no",id:"df-no"}),e.jsx(n,{htmlFor:"df-no",className:"text-sm md:text-base",children:"No"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm md:text-base font-medium",children:"DJ Booth"}),i&&!i.has_dj_booths&&a.extras_djbooth&&e.jsx(N,{variant:"secondary",className:"text-xs",children:"No Disponible"})]}),e.jsxs(p,{value:a.extras_djbooth?"yes":"no",onValueChange:t=>l({extras_djbooth:t==="yes"}),className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"yes",id:"djbooth-yes"}),e.jsx(n,{htmlFor:"djbooth-yes",className:"text-sm md:text-base",children:"Sí"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:"no",id:"djbooth-no"}),e.jsx(n,{htmlFor:"djbooth-no",className:"text-sm md:text-base",children:"No"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"extras-wired",className:"text-sm md:text-base",children:"Requerimientos Cableados Adicionales"}),e.jsx(b,{id:"extras-wired",value:a.extras_wired||"",onChange:t=>l({extras_wired:t.target.value}),className:"text-sm md:text-base"})]})]}),ie=({formData:a,onChange:l,gearSetup:i})=>{const{validateEquipment:t}=C(i);return e.jsxs("div",{className:"space-y-4 border rounded-lg p-3 md:p-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Infraestructura"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"infra-cat6",checked:a.infra_cat6,onCheckedChange:s=>l({infra_cat6:s,infra_cat6_quantity:s?1:0})}),e.jsx(n,{htmlFor:"infra-cat6",className:"text-sm md:text-base",children:"CAT6"})]}),a.infra_cat6&&e.jsx(v,{id:"infra-cat6-qty",label:"",value:a.infra_cat6_quantity||0,onChange:s=>l({infra_cat6_quantity:s}),available:i==null?void 0:i.available_cat6_runs,validate:s=>t("cat6",s),min:1,className:"w-full sm:w-24"})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"infra-hma",checked:a.infra_hma,onCheckedChange:s=>l({infra_hma:s,infra_hma_quantity:s?1:0})}),e.jsx(n,{htmlFor:"infra-hma",className:"text-sm md:text-base",children:"HMA"})]}),a.infra_hma&&e.jsx(v,{id:"infra-hma-qty",label:"",value:a.infra_hma_quantity||0,onChange:s=>l({infra_hma_quantity:s}),available:i==null?void 0:i.available_hma_runs,validate:s=>t("hma",s),min:1,className:"w-full sm:w-24"})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"infra-coax",checked:a.infra_coax,onCheckedChange:s=>l({infra_coax:s,infra_coax_quantity:s?1:0})}),e.jsx(n,{htmlFor:"infra-coax",className:"text-sm md:text-base",children:"Coax"})]}),a.infra_coax&&e.jsx(v,{id:"infra-coax-qty",label:"",value:a.infra_coax_quantity||0,onChange:s=>l({infra_coax_quantity:s}),available:i==null?void 0:i.available_coax_runs,validate:s=>t("coax",s),min:1,className:"w-full sm:w-24"})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"infra-opticalcon",checked:a.infra_opticalcon_duo,onCheckedChange:s=>l({infra_opticalcon_duo:s,infra_opticalcon_duo_quantity:s?1:0})}),e.jsx(n,{htmlFor:"infra-opticalcon",className:"text-sm md:text-base",children:"OpticalCon Duo"})]}),a.infra_opticalcon_duo&&e.jsx(v,{id:"infra-opticalcon-qty",label:"",value:a.infra_opticalcon_duo_quantity||0,onChange:s=>l({infra_opticalcon_duo_quantity:s}),available:i==null?void 0:i.available_opticalcon_duo_runs,validate:s=>t("opticalcon",s),min:1,className:"w-full sm:w-24"})]})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsx(n,{htmlFor:"infra-analog",className:"text-sm md:text-base",children:"Líneas Analógicas"}),e.jsx(v,{id:"infra-analog",label:"",value:a.infra_analog||0,onChange:s=>l({infra_analog:s}),available:i==null?void 0:i.available_analog_runs,validate:s=>t("analog",s),min:0,className:"w-full sm:w-24"})]})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"other-infrastructure",children:"Otros Requerimientos de Infraestructura"}),e.jsx(b,{id:"other-infrastructure",value:a.other_infrastructure||"",onChange:s=>l({other_infrastructure:s.target.value}),placeholder:"Ingrese cualquier requerimiento de infraestructura adicional"})]})]})},le=({formData:a,onChange:l})=>e.jsxs("div",{className:"space-y-4 border rounded-lg p-3 md:p-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold",children:"Notas Adicionales"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"notes",className:"text-sm md:text-base",children:"Notas"}),e.jsx(L,{id:"notes",value:a.notes||"",onChange:i=>l({notes:i.target.value}),placeholder:"Ingrese notas adicionales sobre configuración, requerimientos o restricciones...",className:"h-24 text-sm md:text-base"})]})]});export{ae as E,ie as I,se as M,le as N,ee as W,G as a};
