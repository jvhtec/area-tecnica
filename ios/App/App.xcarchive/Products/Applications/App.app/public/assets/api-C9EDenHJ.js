import{m as s}from"./index-NZ6jJLfQ.js";import{a as i}from"./config-DVV3VxR4.js";let r=null;async function c(){if(r)return r;const{data:e,error:t}=await s.functions.invoke("get-secret",{body:{secretName:"X_AUTH_TOKEN"}});if(t)throw new Error(t.message||"Failed to resolve Flex auth token");const o=e==null?void 0:e.X_AUTH_TOKEN;if(!o)throw new Error("Flex auth token response missing X_AUTH_TOKEN");return r=o,o}async function u(e){const t=await c(),o=i(),n=await fetch(`${o}/element`,{method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":t,apikey:t},body:JSON.stringify(e)});if(!n.ok){const a=await n.json();throw new Error(a.exceptionMessage||"Failed to create folder in Flex")}return await n.json()}export{u as c};
