import{r as o,j as u,bz as ve,aT as Je,aU as qe,bE as Me,bR as ee,aY as Qe,bF as ge,bG as en,b1 as H,bH as nn,aX as N,aV as C,by as he,bI as tn,aW as k,c9 as rn,bK as on,bJ as sn,bL as cn,bM as an,bN as un,bO as ln}from"./index-NZ6jJLfQ.js";import{c as xe,I as dn,R as fn}from"./index-hC3MxXep.js";function pn(e){const t=mn(e),n=o.forwardRef((r,s)=>{const{children:c,...i}=r,p=o.Children.toArray(c),h=p.find(Cn);if(h){const m=h.props.children,d=p.map(a=>a===h?o.Children.count(m)>1?o.Children.only(null):o.isValidElement(m)?m.props.children:null:a);return u.jsx(t,{...i,ref:s,children:o.isValidElement(m)?o.cloneElement(m,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:c})});return n.displayName=`${e}.Slot`,n}function mn(e){const t=o.forwardRef((n,r)=>{const{children:s,...c}=n;if(o.isValidElement(s)){const i=Mn(s),p=vn(c,s.props);return s.type!==o.Fragment&&(p.ref=r?ve(r,i):i),o.cloneElement(s,p)}return o.Children.count(s)>1?o.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hn=Symbol("radix.slottable");function Cn(e){return o.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hn}function vn(e,t){const n={...t};for(const r in t){const s=e[r],c=t[r];/^on[A-Z]/.test(r)?s&&c?n[r]=(...p)=>{const h=c(...p);return s(...p),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...c}:r==="className"&&(n[r]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}function Mn(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Q=["Enter"," "],gn=["ArrowDown","PageUp","Home"],_e=["ArrowUp","PageDown","End"],xn=[...gn,..._e],_n={ltr:[...Q,"ArrowRight"],rtl:[...Q,"ArrowLeft"]},Rn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},L="Menu",[A,En,Sn]=qe(L),[y,zn]=Je(L,[Sn,Me,xe]),F=Me(),Re=xe(),[Ee,S]=y(L),[Pn,K]=y(L),Se=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:c,modal:i=!0}=e,p=F(t),[h,m]=o.useState(null),d=o.useRef(!1),a=ee(c),f=Qe(s);return o.useEffect(()=>{const M=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(ge,{...p,children:u.jsx(Ee,{scope:t,open:n,onOpenChange:a,content:h,onContentChange:m,children:u.jsx(Pn,{scope:t,onClose:o.useCallback(()=>a(!1),[a]),isUsingKeyboardRef:d,dir:f,modal:i,children:r})})})};Se.displayName=L;var yn="MenuAnchor",ne=o.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=F(n);return u.jsx(en,{...s,...r,ref:t})});ne.displayName=yn;var te="MenuPortal",[bn,Pe]=y(te,{forceMount:void 0}),ye=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,c=S(te,t);return u.jsx(bn,{scope:t,forceMount:n,children:u.jsx(H,{present:n||c.open,children:u.jsx(nn,{asChild:!0,container:s,children:r})})})};ye.displayName=te;var x="MenuContent",[In,re]=y(x),be=o.forwardRef((e,t)=>{const n=Pe(x,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,c=S(x,e.__scopeMenu),i=K(x,e.__scopeMenu);return u.jsx(A.Provider,{scope:e.__scopeMenu,children:u.jsx(H,{present:r||c.open,children:u.jsx(A.Slot,{scope:e.__scopeMenu,children:i.modal?u.jsx(wn,{...s,ref:t}):u.jsx(Tn,{...s,ref:t})})})})}),wn=o.forwardRef((e,t)=>{const n=S(x,e.__scopeMenu),r=o.useRef(null),s=N(t,r);return o.useEffect(()=>{const c=r.current;if(c)return tn(c)},[]),u.jsx(oe,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:C(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Tn=o.forwardRef((e,t)=>{const n=S(x,e.__scopeMenu);return u.jsx(oe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),On=pn("MenuContent.ScrollLock"),oe=o.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:i,disableOutsidePointerEvents:p,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:f,onDismiss:M,disableOutsideScroll:v,...P}=e,b=S(x,n),T=K(x,n),G=F(n),U=Re(n),ie=En(n),[Ye,le]=o.useState(null),V=o.useRef(null),Xe=N(t,V,b.onContentChange),B=o.useRef(0),W=o.useRef(""),He=o.useRef(0),$=o.useRef(null),de=o.useRef("right"),Z=o.useRef(0),ze=v?sn:o.Fragment,$e=v?{as:On,allowPinchZoom:!0}:void 0,Ze=l=>{var w,pe;const g=W.current+l,_=ie().filter(R=>!R.disabled),E=document.activeElement,J=(w=_.find(R=>R.ref.current===E))==null?void 0:w.textValue,q=_.map(R=>R.textValue),fe=Bn(q,g,J),O=(pe=_.find(R=>R.textValue===fe))==null?void 0:pe.ref.current;(function R(me){W.current=me,window.clearTimeout(B.current),me!==""&&(B.current=window.setTimeout(()=>R(""),1e3))})(g),O&&setTimeout(()=>O.focus())};o.useEffect(()=>()=>window.clearTimeout(B.current),[]),on();const I=o.useCallback(l=>{var _,E;return de.current===((_=$.current)==null?void 0:_.side)&&Yn(l,(E=$.current)==null?void 0:E.area)},[]);return u.jsx(In,{scope:n,searchRef:W,onItemEnter:o.useCallback(l=>{I(l)&&l.preventDefault()},[I]),onItemLeave:o.useCallback(l=>{var g;I(l)||((g=V.current)==null||g.focus(),le(null))},[I]),onTriggerLeave:o.useCallback(l=>{I(l)&&l.preventDefault()},[I]),pointerGraceTimerRef:He,onPointerGraceIntentChange:o.useCallback(l=>{$.current=l},[]),children:u.jsx(ze,{...$e,children:u.jsx(cn,{asChild:!0,trapped:s,onMountAutoFocus:C(c,l=>{var g;l.preventDefault(),(g=V.current)==null||g.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(an,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:f,onDismiss:M,children:u.jsx(fn,{asChild:!0,...U,dir:T.dir,orientation:"vertical",loop:r,currentTabStopId:Ye,onCurrentTabStopIdChange:le,onEntryFocus:C(h,l=>{T.isUsingKeyboardRef.current||l.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(un,{role:"menu","aria-orientation":"vertical","data-state":We(b.open),"data-radix-menu-content":"",dir:T.dir,...G,...P,ref:Xe,style:{outline:"none",...P.style},onKeyDown:C(P.onKeyDown,l=>{const _=l.target.closest("[data-radix-menu-content]")===l.currentTarget,E=l.ctrlKey||l.altKey||l.metaKey,J=l.key.length===1;_&&(l.key==="Tab"&&l.preventDefault(),!E&&J&&Ze(l.key));const q=V.current;if(l.target!==q||!xn.includes(l.key))return;l.preventDefault();const O=ie().filter(w=>!w.disabled).map(w=>w.ref.current);_e.includes(l.key)&&O.reverse(),Un(O)}),onBlur:C(e.onBlur,l=>{l.currentTarget.contains(l.target)||(window.clearTimeout(B.current),W.current="")}),onPointerMove:C(e.onPointerMove,D(l=>{const g=l.target,_=Z.current!==l.clientX;if(l.currentTarget.contains(g)&&_){const E=l.clientX>Z.current?"right":"left";de.current=E,Z.current=l.clientX}}))})})})})})})});be.displayName=x;var jn="MenuGroup",se=o.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(k.div,{role:"group",...r,ref:t})});se.displayName=jn;var An="MenuLabel",Ie=o.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(k.div,{...r,ref:t})});Ie.displayName=An;var Y="MenuItem",Ce="menu.itemSelect",z=o.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,c=o.useRef(null),i=K(Y,e.__scopeMenu),p=re(Y,e.__scopeMenu),h=N(t,c),m=o.useRef(!1),d=()=>{const a=c.current;if(!n&&a){const f=new CustomEvent(Ce,{bubbles:!0,cancelable:!0});a.addEventListener(Ce,M=>r==null?void 0:r(M),{once:!0}),rn(a,f),f.defaultPrevented?m.current=!1:i.onClose()}};return u.jsx(we,{...s,ref:h,disabled:n,onClick:C(e.onClick,d),onPointerDown:a=>{var f;(f=e.onPointerDown)==null||f.call(e,a),m.current=!0},onPointerUp:C(e.onPointerUp,a=>{var f;m.current||(f=a.currentTarget)==null||f.click()}),onKeyDown:C(e.onKeyDown,a=>{const f=p.searchRef.current!=="";n||f&&a.key===" "||Q.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})})});z.displayName=Y;var we=o.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...c}=e,i=re(Y,n),p=Re(n),h=o.useRef(null),m=N(t,h),[d,a]=o.useState(!1),[f,M]=o.useState("");return o.useEffect(()=>{const v=h.current;v&&M((v.textContent??"").trim())},[c.children]),u.jsx(A.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:u.jsx(dn,{asChild:!0,...p,focusable:!r,children:u.jsx(k.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:m,onPointerMove:C(e.onPointerMove,D(v=>{r?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:C(e.onPointerLeave,D(v=>i.onItemLeave(v))),onFocus:C(e.onFocus,()=>a(!0)),onBlur:C(e.onBlur,()=>a(!1))})})})}),Dn="MenuCheckboxItem",Te=o.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return u.jsx(Ne,{scope:e.__scopeMenu,checked:n,children:u.jsx(z,{role:"menuitemcheckbox","aria-checked":X(n)?"mixed":n,...s,ref:t,"data-state":ue(n),onSelect:C(s.onSelect,()=>r==null?void 0:r(X(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Te.displayName=Dn;var Oe="MenuRadioGroup",[Nn,kn]=y(Oe,{value:void 0,onValueChange:()=>{}}),je=o.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,c=ee(r);return u.jsx(Nn,{scope:e.__scopeMenu,value:n,onValueChange:c,children:u.jsx(se,{...s,ref:t})})});je.displayName=Oe;var Ae="MenuRadioItem",De=o.forwardRef((e,t)=>{const{value:n,...r}=e,s=kn(Ae,e.__scopeMenu),c=n===s.value;return u.jsx(Ne,{scope:e.__scopeMenu,checked:c,children:u.jsx(z,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":ue(c),onSelect:C(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});De.displayName=Ae;var ce="MenuItemIndicator",[Ne,Ln]=y(ce,{checked:!1}),ke=o.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,c=Ln(ce,n);return u.jsx(H,{present:r||X(c.checked)||c.checked===!0,children:u.jsx(k.span,{...s,ref:t,"data-state":ue(c.checked)})})});ke.displayName=ce;var Fn="MenuSeparator",Le=o.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Le.displayName=Fn;var Kn="MenuArrow",Fe=o.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=F(n);return u.jsx(ln,{...s,...r,ref:t})});Fe.displayName=Kn;var ae="MenuSub",[Gn,Ke]=y(ae),Ge=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,c=S(ae,t),i=F(t),[p,h]=o.useState(null),[m,d]=o.useState(null),a=ee(s);return o.useEffect(()=>(c.open===!1&&a(!1),()=>a(!1)),[c.open,a]),u.jsx(ge,{...i,children:u.jsx(Ee,{scope:t,open:r,onOpenChange:a,content:m,onContentChange:d,children:u.jsx(Gn,{scope:t,contentId:he(),triggerId:he(),trigger:p,onTriggerChange:h,children:n})})})};Ge.displayName=ae;var j="MenuSubTrigger",Ue=o.forwardRef((e,t)=>{const n=S(j,e.__scopeMenu),r=K(j,e.__scopeMenu),s=Ke(j,e.__scopeMenu),c=re(j,e.__scopeMenu),i=o.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:h}=c,m={__scopeMenu:e.__scopeMenu},d=o.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return o.useEffect(()=>d,[d]),o.useEffect(()=>{const a=p.current;return()=>{window.clearTimeout(a),h(null)}},[p,h]),u.jsx(ne,{asChild:!0,...m,children:u.jsx(we,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":We(n.open),...e,ref:ve(t,s.onTriggerChange),onClick:a=>{var f;(f=e.onClick)==null||f.call(e,a),!(e.disabled||a.defaultPrevented)&&(a.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:C(e.onPointerMove,D(a=>{c.onItemEnter(a),!a.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(c.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:C(e.onPointerLeave,D(a=>{var M,v;d();const f=(M=n.content)==null?void 0:M.getBoundingClientRect();if(f){const P=(v=n.content)==null?void 0:v.dataset.side,b=P==="right",T=b?-5:5,G=f[b?"left":"right"],U=f[b?"right":"left"];c.onPointerGraceIntentChange({area:[{x:a.clientX+T,y:a.clientY},{x:G,y:f.top},{x:U,y:f.top},{x:U,y:f.bottom},{x:G,y:f.bottom}],side:P}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(a),a.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:C(e.onKeyDown,a=>{var M;const f=c.searchRef.current!=="";e.disabled||f&&a.key===" "||_n[r.dir].includes(a.key)&&(n.onOpenChange(!0),(M=n.content)==null||M.focus(),a.preventDefault())})})})});Ue.displayName=j;var Ve="MenuSubContent",Be=o.forwardRef((e,t)=>{const n=Pe(x,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,c=S(x,e.__scopeMenu),i=K(x,e.__scopeMenu),p=Ke(Ve,e.__scopeMenu),h=o.useRef(null),m=N(t,h);return u.jsx(A.Provider,{scope:e.__scopeMenu,children:u.jsx(H,{present:r||c.open,children:u.jsx(A.Slot,{scope:e.__scopeMenu,children:u.jsx(oe,{id:p.contentId,"aria-labelledby":p.triggerId,...s,ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var a;i.isUsingKeyboardRef.current&&((a=h.current)==null||a.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:C(e.onFocusOutside,d=>{d.target!==p.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:C(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:C(e.onKeyDown,d=>{var M;const a=d.currentTarget.contains(d.target),f=Rn[i.dir].includes(d.key);a&&f&&(c.onOpenChange(!1),(M=p.trigger)==null||M.focus(),d.preventDefault())})})})})})});Be.displayName=Ve;function We(e){return e?"open":"closed"}function X(e){return e==="indeterminate"}function ue(e){return X(e)?"indeterminate":e?"checked":"unchecked"}function Un(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Vn(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Bn(e,t,n){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let i=Vn(e,Math.max(c,0));s.length===1&&(i=i.filter(m=>m!==n));const h=i.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function Wn(e,t){const{x:n,y:r}=e;let s=!1;for(let c=0,i=t.length-1;c<t.length;i=c++){const p=t[c],h=t[i],m=p.x,d=p.y,a=h.x,f=h.y;d>r!=f>r&&n<(a-m)*(r-d)/(f-d)+m&&(s=!s)}return s}function Yn(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Wn(n,t)}function D(e){return t=>t.pointerType==="mouse"?e(t):void 0}var $n=Se,Zn=ne,Jn=ye,qn=be,Qn=se,et=Ie,nt=z,tt=Te,rt=je,ot=De,st=ke,ct=Le,at=Fe,ut=Ge,it=Ue,lt=Be;export{Zn as A,qn as C,Qn as G,nt as I,et as L,Jn as P,$n as R,ct as S,tt as a,st as b,zn as c,rt as d,ot as e,at as f,it as g,lt as h,ut as i};
