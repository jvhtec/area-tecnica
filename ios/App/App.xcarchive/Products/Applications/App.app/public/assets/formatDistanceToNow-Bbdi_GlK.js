import{c as T}from"./constructNow-u0VlpghF.js";import{al as f,z as x,at as O,aw as y,au as S,c4 as X,c5 as M}from"./index-NZ6jJLfQ.js";import{d as w}from"./differenceInCalendarMonths-6exvViir.js";import{e as N}from"./endOfMonth-Byhxb84j.js";function D(n,r){const e=f(n),o=f(r),t=e.getTime()-o.getTime();return t<0?-1:t>0?1:t}function b(n){return r=>{const o=(n?Math[n]:Math.trunc)(r);return o===0?0:o}}function R(n,r){return+f(n)-+f(r)}function _(n){const r=f(n);return+x(r)==+N(r)}function Y(n,r){const e=f(n),o=f(r),t=D(e,o),u=Math.abs(w(e,o));let c;if(u<1)c=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-t*u);let s=D(e,o)===-t;_(f(n))&&u===1&&D(n,o)===1&&(s=!1),c=t*(u-Number(s))}return c===0?0:c}function v(n,r,e){const o=R(n,r)/1e3;return b(e==null?void 0:e.roundingMethod)(o)}function z(n,r,e){const o=O(),t=(e==null?void 0:e.locale)??o.locale??y,u=2520,c=D(n,r);if(isNaN(c))throw new RangeError("Invalid time value");const s=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:c});let d,h;c>0?(d=f(r),h=f(n)):(d=f(n),h=f(r));const l=v(h,d),I=(S(h)-S(d))/1e3,a=Math.round((l-I)/60);let m;if(a<2)return e!=null&&e.includeSeconds?l<5?t.formatDistance("lessThanXSeconds",5,s):l<10?t.formatDistance("lessThanXSeconds",10,s):l<20?t.formatDistance("lessThanXSeconds",20,s):l<40?t.formatDistance("halfAMinute",0,s):l<60?t.formatDistance("lessThanXMinutes",1,s):t.formatDistance("xMinutes",1,s):a===0?t.formatDistance("lessThanXMinutes",1,s):t.formatDistance("xMinutes",a,s);if(a<45)return t.formatDistance("xMinutes",a,s);if(a<90)return t.formatDistance("aboutXHours",1,s);if(a<X){const i=Math.round(a/60);return t.formatDistance("aboutXHours",i,s)}else{if(a<u)return t.formatDistance("xDays",1,s);if(a<M){const i=Math.round(a/X);return t.formatDistance("xDays",i,s)}else if(a<M*2)return m=Math.round(a/M),t.formatDistance("aboutXMonths",m,s)}if(m=Y(h,d),m<12){const i=Math.round(a/M);return t.formatDistance("xMonths",i,s)}else{const i=m%12,g=Math.trunc(m/12);return i<3?t.formatDistance("aboutXYears",g,s):i<9?t.formatDistance("overXYears",g,s):t.formatDistance("almostXYears",g+1,s)}}function C(n,r){return z(n,T(n),r)}export{C as f};
