import{r as o,bE as T,aS as j,j as d,aT as L,bF as F,bG as M,aW as k,aV as l,b1 as I,aX as U,bM as W,bN as $,bO as z,Q as B}from"./index-NZ6jJLfQ.js";var w,S="HoverCard",[H]=L(S,[T]),g=T(),[G,E]=H(S),O=e=>{const{__scopeHoverCard:r,children:n,open:s,defaultOpen:a,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,i=g(r),C=o.useRef(0),u=o.useRef(0),h=o.useRef(!1),p=o.useRef(!1),[m,t]=j({prop:s,defaultProp:a??!1,onChange:c,caller:S}),b=o.useCallback(()=>{clearTimeout(u.current),C.current=window.setTimeout(()=>t(!0),f)},[f,t]),x=o.useCallback(()=>{clearTimeout(C.current),!h.current&&!p.current&&(u.current=window.setTimeout(()=>t(!1),v))},[v,t]),A=o.useCallback(()=>t(!1),[t]);return o.useEffect(()=>()=>{clearTimeout(C.current),clearTimeout(u.current)},[]),d.jsx(G,{scope:r,open:m,onOpenChange:t,onOpen:b,onClose:x,onDismiss:A,hasSelectionRef:h,isPointerDownOnContentRef:p,children:d.jsx(F,{...i,children:n})})};O.displayName=S;var N="HoverCardTrigger",y=o.forwardRef((e,r)=>{const{__scopeHoverCard:n,...s}=e,a=E(N,n),c=g(n);return d.jsx(M,{asChild:!0,...c,children:d.jsx(k.a,{"data-state":a.open?"open":"closed",...s,ref:r,onPointerEnter:l(e.onPointerEnter,R(a.onOpen)),onPointerLeave:l(e.onPointerLeave,R(a.onClose)),onFocus:l(e.onFocus,a.onOpen),onBlur:l(e.onBlur,a.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});y.displayName=N;var K="HoverCardPortal",[oe,V]=H(K,{forceMount:void 0}),P="HoverCardContent",_=o.forwardRef((e,r)=>{const n=V(P,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,c=E(P,e.__scopeHoverCard);return d.jsx(I,{present:s||c.open,children:d.jsx(Q,{"data-state":c.open?"open":"closed",...a,onPointerEnter:l(e.onPointerEnter,R(c.onOpen)),onPointerLeave:l(e.onPointerLeave,R(c.onClose)),ref:r})})});_.displayName=P;var Q=o.forwardRef((e,r)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:f,...v}=e,i=E(P,n),C=g(n),u=o.useRef(null),h=U(r,u),[p,m]=o.useState(!1);return o.useEffect(()=>{if(p){const t=document.body;return w=t.style.userSelect||t.style.webkitUserSelect,t.style.userSelect="none",t.style.webkitUserSelect="none",()=>{t.style.userSelect=w,t.style.webkitUserSelect=w}}},[p]),o.useEffect(()=>{if(u.current){const t=()=>{m(!1),i.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var x;((x=document.getSelection())==null?void 0:x.toString())!==""&&(i.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",t),()=>{document.removeEventListener("pointerup",t),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!1}}},[i.isPointerDownOnContentRef,i.hasSelectionRef]),o.useEffect(()=>{u.current&&J(u.current).forEach(b=>b.setAttribute("tabindex","-1"))}),d.jsx(W,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l(c,t=>{t.preventDefault()}),onDismiss:i.onDismiss,children:d.jsx($,{...C,...v,onPointerDown:l(v.onPointerDown,t=>{t.currentTarget.contains(t.target)&&m(!0),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!0}),ref:h,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),X="HoverCardArrow",q=o.forwardRef((e,r)=>{const{__scopeHoverCard:n,...s}=e,a=g(n);return d.jsx(z,{...a,...s,ref:r})});q.displayName=X;function R(e){return r=>r.pointerType==="touch"?void 0:e()}function J(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)r.push(n.currentNode);return r}var Y=O,Z=y,D=_;const re=Y,ne=Z,ee=o.forwardRef(({className:e,align:r="center",sideOffset:n=4,...s},a)=>d.jsx(D,{ref:a,align:r,sideOffset:n,className:B("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));ee.displayName=D.displayName;export{re as H,ne as a,ee as b};
