const c=["CON","PRN","AUX","NUL","COM1","COM2","COM3","COM4","COM5","COM6","COM7","COM8","COM9","LPT1","LPT2","LPT3","LPT4","LPT5","LPT6","LPT7","LPT8","LPT9"],_=/[<>:"/\\|?*\x00-\x1f\x7f-\x9f]/g,f=/[^\w\s\-_.()[\]{}]/g;function C(t,s={}){const{maxLength:a=200,strict:i=!1,fallbackPrefix:n="Folder"}=s;if(!t||typeof t!="string")return`${n}_${Date.now()}`;let e=t;e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i?e=e.replace(f,"_"):e=e.replace(_,"_"),e=e.replace(/[\s_]+/g,"_"),e=e.replace(/^[.\s_]+|[.\s_]+$/g,"");const o=e.toUpperCase();if((c.includes(o)||c.some(r=>o.startsWith(r+".")))&&(e=`${n}_${e}`),e||(e=`${n}_${Date.now()}`),e.length>a){const r=Date.now().toString().slice(-6),l=a-r.length-1;e=e.substring(0,l)+"_"+r}return e}function L(t,s,a){const i=s?`${s} - ${t}`:t,n=C(i,a);return{name:n,wasSanitized:i!==n}}export{L as c,C as s};
