import{u as f}from"./useQuery-kdg2pmgf.js";import{f as _,s as u}from"./index-NZ6jJLfQ.js";import{u as o}from"./useMutation-DluhVBs1.js";const w=r=>{const s=_(),{data:c,isLoading:p,error:l}=f({queryKey:["tour-power-defaults",r],queryFn:async()=>{const{data:e,error:t}=await u.from("tour_power_defaults").select("*").eq("tour_id",r);if(t)throw t;return e},enabled:!!r}),n=o({mutationFn:async e=>{const{error:t}=await u.from("tour_power_defaults").insert([e]);if(t)throw t;return e},onSuccess:()=>{s.invalidateQueries({queryKey:["tour-power-defaults",r]})}}),a=o({mutationFn:async e=>{const{error:t}=await u.from("tour_power_defaults").update({table_name:e.table_name,total_watts:e.total_watts,current_per_phase:e.current_per_phase,pdu_type:e.pdu_type,custom_pdu_type:e.custom_pdu_type,includes_hoist:e.includes_hoist,department:e.department}).eq("id",e.id);if(t)throw t;return e},onSuccess:()=>{s.invalidateQueries({queryKey:["tour-power-defaults",r]})}}),i=o({mutationFn:async e=>{const{error:t}=await u.from("tour_power_defaults").delete().eq("id",e);if(t)throw t;return e},onSuccess:()=>{s.invalidateQueries({queryKey:["tour-power-defaults",r]})}});return{powerDefaults:c||[],isLoading:p,error:l,createDefault:n.mutateAsync,updateDefault:a.mutateAsync,deleteDefault:i.mutateAsync,isCreating:n.isPending,isUpdating:a.isPending,isDeleting:i.isPending}};export{w as u};
